#ifndef OT_CONFIG_H
#define OT_CONFIG_H

// Available kernel program modes

// Runs an interactive Tcl shell
#define KERNEL_PROG_SHELL 0

// Runs a program that prints hello world and exits
#define KERNEL_PROG_TEST_HELLO 1

// Runs a program that exercises the memory subsystem
#define KERNEL_PROG_TEST_MEM 2

// Runs a program that alternates between programs and prints
// some text in order, proving that the scheduler work
#define KERNEL_PROG_TEST_ALTERNATE 3

#define KERNEL_PROG_TEST_USERSPACE 4

// Runs IPC test with fibonacci service
#define KERNEL_PROG_TEST_IPC 5

// Runs IPC ordering test to verify scheduling behavior
#define KERNEL_PROG_TEST_IPC_ORDERING 6

// Runs IPC code generation test with generated client
#define KERNEL_PROG_TEST_IPC_CODEGEN 7

// Runs graphics driver test
#define KERNEL_PROG_TEST_GRAPHICS 8

// Runs filesystem test with in-memory backend
#define KERNEL_PROG_TEST_FILESYSTEM 9

// Selected kernel program (modified by config.sh)
#define KERNEL_PROG __KERNEL_PROG_PLACEHOLDER__

// Log levels
#define LSILENT 0
#define LSOFT 1
#define LLOUD 2

// Subsystem log levels (configured by config.sh)
#define LOG_GENERAL __LOG_GENERAL__
#define LOG_MEM __LOG_MEM__
#define LOG_PROC __LOG_PROC__
#define LOG_IPC __LOG_IPC__

// Graphics backend feature flags
#define OT_FEAT_GFX_UNSUPPORTED 0
#define OT_FEAT_GFX_VIRTIO 1

// Default to unsupported (can be overridden by build system)
#ifndef OT_FEAT_GFX
#define OT_FEAT_GFX OT_FEAT_GFX_UNSUPPORTED
#endif

// Graphics backend options (for user-space driver)
#define OT_GRAPHICS_BACKEND_NONE 0
#define OT_GRAPHICS_BACKEND_TEST 1
#define OT_GRAPHICS_BACKEND_VIRTIO 2
#define OT_GRAPHICS_BACKEND_WASM 3

// Selected graphics backend (configured by config.sh)
#define OT_GRAPHICS_BACKEND __GRAPHICS_BACKEND__

// Filesystem backend options
#define OT_FILESYSTEM_BACKEND_NONE 0
#define OT_FILESYSTEM_BACKEND_MEMORY 1

// Selected filesystem backend (configured by config.sh)
#define OT_FILESYSTEM_BACKEND __FILESYSTEM_BACKEND__

// Shell enable/disable (configured by config.sh)
__SHELL_ENABLE__

// Compile-time validation: WASM only supports test and wasm backends
#ifdef OT_ARCH_WASM
#if OT_GRAPHICS_BACKEND == OT_GRAPHICS_BACKEND_VIRTIO
#error "VirtIO graphics backend is not supported on WASM. Use test or wasm backend instead."
#endif
#endif

#endif
